<!DOCTYPE html>
<html lang="en" style="font-size: 100px;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的订单</title>
    <script>
        <!-- 只实现了屏幕尺寸为750px的情况。要想解决适配问题，需要满足当屏幕尺寸变大或者缩小时。html字体大小动态改变，为了解决这个问题，这里使用JavaScript实现 -->
        (function (doc, win) {
            var docEl = doc.documentElement,
                resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                recalc = function () {
                    var clientWidth = docEl.clientWidth;
                    if (!clientWidth) return;
                    docEl.style.fontSize = 100 * (clientWidth / 750) + 'px';
                };
            if (!doc.addEventListener) return;
            win.addEventListener(resizeEvt, recalc, false);
            doc.addEventListener('DOMContentLoaded', recalc, false);
        })(document, window)
        /*初始化的DOMContentLoaded执行recalc调整根元素字体大小，进而适配响应尺寸手机。
        如果在移动端触发orientationchange事件；如果在Web端，当屏幕尺寸变化时触发resize。之后调整页面元素尺寸，适配屏幕尺寸变化。上述750是设计稿的初始宽度值，如果设计稿为500或者375可以将其改为对应值。*/
        /*重要的是理解设计到开发的原理。初始值参照的是1: 1设计稿的尺寸。*/

        /*获取span文字内容*/
        var orderStatus = document.getElementsByClassName("badge");
        console.log(orderStatus);
        console.log(orderStatus.length);

        /*获取dom，修改订单状态css样式*/
        function cssStyleOrder(orderStatus) {
            for (var item = 0; item < orderStatus.length; item++) {
                console.log(orderStatus[item].innerText); if
                    (orderStatus[item].innerText = '待付款') {
                        var parentNode = orderStatus[item].parentNode; console.log(parentNode); var
                            orderCss = document.getElementsByClassName("badge"); orderCss.style.border = "1px solid #c94c5f";
                    orderCss.style.background = "pink"; orderCss.style.color = "#ce6575"
                } else if (orderStatus[item].innerText = '待发货') {
                    var orderCss = document.getElementsByClassName("badge"); orderCss.style.border = "1px solid #c94c5f";
                    orderCss.style.background = "grey"; orderCss.style.color = "#ce6575"
                } else if (orderStatus[item].innerText = '已完成') {
                    var orderCss = document.getElementsByClassName("badge"); orderCss.style.border = "1px solid #c94c5f";
                    orderCss.style.background = "green"; orderCss.style.color = "#ce6575"
                } else if
                    (orderStatus[item].innerText = '退款/售后') {
                        var orderCss = document.getElementsByClassName("badge");
                    orderCss.style.border = "1px solid #c94c5f"; orderCss.style.background = "yellow"; orderCss.style.color = "#ce6575"
                }
            }
        } 
        /*调用修改css样式函数*/ 
        cssStyleOrder(orderStatus); var content = document.getElementsByClassName("content"); var
            item = [{
                img: './imgs/backz@2x.png', srcset: './imgs/backz@2x.png 2x,./imgs/back@3x.png 3x',
                name: 'Galaxy Z系列系列 5折券', number: '50积分', status: '待付款'
            }, {
                img: './imgs/phone@2x.png',
                srcset: './imgs/phone@2x.png 2x,./imgs/phone@3x.png 3x', name: 'Galaxy Note20系列手机', number: '50积分',
                status: '已完成'
            }, {
                img: './imgs/backz@2x.png', srcset: './imgs/backz@2x.png 2x,./imgs/back@3x.png 3x',
                name: 'Galaxy Z系列系列 5折券', number: '50积分', status: '待发货'
            }, {
                img: './imgs/backz@2x.png',
                srcset: './imgs/backz@2x.png 2x,./imgs/back@3x.png 3x', name: 'Galaxy Z系列系列 5折券', number: '50积分',
                status: '售后中'
            }, {
                img: './imgs/backz@2x.png', srcset: './imgs/backz@2x.png 2x,./imgs/back@3x.png 3x',
                name: 'Galaxy Z系列系列 5折券', number: '50积分', status: '待发货'
            }, {
                img: './imgs/backz@2x.png',
                srcset: './imgs/backz@2x.png 2x,./imgs/back@3x.png 3x', name: 'Galaxy Z系列系列 5折券', number: '50积分',
                status: '待发货'
            }] 
            /*绘制单个div*/ 
            function setDiv(item) {
                var div = '<div class="item"><div class="img"> <img src="'
                    + item.img + '" srcset="' 
                    + item.srcset + '">'+ '<div class="info"><p>'
                    + item.name + '</p><p> '
                    + item.number + '</p></div><div class="badge"><span class="badge1">'
                    +item.status + '</span></div>'
                return div;
            }
        /*循环加载到页面*/
        function getOrderData() {
            var html = '';
            for (var i = 0; i < item.length; i++) {
                html += setDiv(item[i]);  
            } 
            content.innerHTML = html; 
            console.log(content.innerHTML);
            console.log(content);
        } 
        window.onload = getOrderData(); 
    </script>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    body {
        background: url(./imgs/blurcolor@2x.png) no-repeat no-repeat;
        background-size: cover;
        /*把背景图片放大到适合元素容器的尺寸，图片比例不变，但是要注意，超出容器的部分可能会裁掉。*/
    }

    .header {
        background: #FFFFFF;
    }

    .header .title h2 {
        height: 1.1rem;
        text-align: center;
        line-height: 1.1rem;
        font-size: 0.37rem;
    }

    .header .nav {
        display: flex;
        justify-content: space-between;
        font-size: 0.26rem;

    }

    .header .nav div {
        flex: 1;
        text-align: center;
    }

    .header .nav .active {
        padding: 0 0 0.15rem 0;
        font-weight: bold;
        color: #3642FF;
        border-bottom: 3px solid #3642FF;
    }

    .header .nav .tail {
        padding: 0 0.2rem 0.15rem 0;
        margin: 0;
    }

    .content {
        padding: 0.1rem 0.2rem 0 0.2rem;

    }

    .content .item {
        display: flex;
        /*justify-content: space-around;*/
        align-items: center;
        background: #FFFFFF;
        border: 1px solid rgba(0, 0, 0, 0.1);
        width: 100%;
        height: 2.24rem;
        border-radius: 0.18rem;
        margin-bottom: 0.2rem;

    }

    .content .item .img img {
        display: flex;
        width: 1.76rem;
        height: 1.76rem;
        padding: 0.2rem;
    }

    .content .item .info {
        display: block;
        color: rgba(0, 0, 0, 0.65);
        text-align: left;
    }

    .content .item .info p:first-of-type {
        color: rgba(0, 0, 0, 0.85);
        font-weight: bolder;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .content .item .info p:last-of-type {
        margin-top: 0.12rem;
        color: #3642FF;
    }

    .content .item .info p {
        font-size: 0.28rem;
    }

    .content .item .badge span {
        display: flex;
        border: 1px solid #c94c5f;
        padding: 0.05rem;
        background: pink;
        color: #ce6575;
        border-radius: 0.05rem;
        text-align: center;
        font-size: 0.20rem;
        margin-left: 0.7rem;
    }

    /*如果设备像素大于等于2，则背景图用2倍图*/
    @media screen and (-webkit-min-device-pixel-ratio: 2),
    screen and (min--moz-device-pixel-ratio: 2) {
        body {
            background: url(./imgs/blurcolor@2x.png) no-repeat no-repeat;
        }
    }

    /*如果设备像素大于等于3，则用3倍图*/
    @media screen and (-webkit-min-device-pixel-ratio: 3),
    screen and (min--moz-device-pixel-ratio: 3) {
        body {
            background: url(./imgs/blurcolor@3x.png) no-repeat no-repeat;
        }
    }
</style>

<body>
    <div class="header">
        <div class="title">
            <h2>我的订单</h2>
        </div>
        <div class="nav">
            <div class="active">
                <p>全部</p>
            </div>
            <div>
                <p>待付款</p>
            </div>
            <div>
                <p>待发货</p>
            </div>
            <div>
                <p>已完成</p>
            </div>
            <div class="tail">
                <p>退款/售后</p>
            </div>
        </div>
    </div>
    <main>
        <div class="content">
            <div class="item" style="margin-top: 0.2rem;">
                <div class="img"><img src="./imgs/backz@2x.png" srcset="./imgs/backz@2x.png 2x,./imgs/back@3x.png 3x">
                </div>
                <div class="info">
                    <p>Galaxy Z系列系列 5折券</p>
                    <p>50积分</p>
                </div>
                <div class="badge"><span class="badge1">待付款</span></div>
            </div>
            <div class="item">
                <div class="img"><img src="./imgs/phone@2x.png" srcset="./imgs/phone@2x.png 2x,./imgs/phone@3x.png 3x">
                </div>
                <div class="info">
                    <p>Galaxy Note20系列手机</p>
                    <p>50积分</p>
                </div>
                <div class="badge"><span class="badge1">已完成</span></div>
            </div>
            <div class="item">
                <div class="img"><img src="./imgs/backz@2x.png" srcset="./imgs/backz@2x.png 2x,./imgs/back@3x.png 3x">
                </div>
                <div class="info">
                    <p>Galaxy Z系列系列 5折券</p>
                    <p>50积分</p>
                </div>
                <div class="badge"><span class="badge1">待发货</span></div>
            </div>
            <div class="item">
                <div class="img"><img src="./imgs/backz@2x.png" srcset="./imgs/backz@2x.png 2x,./imgs/back@3x.png 3x">
                </div>
                <div class="info">
                    <p>Galaxy Z系列系列 5折券</p>
                    <p>50积分</p>
                </div>
                <div class="badge"><span class="badge1">售后中</span></div>
            </div>
            <div class="item">
                <div class="img"><img src="./imgs/backz@2x.png" srcset="./imgs/backz@2x.png 2x,./imgs/back@3x.png 3x">
                </div>
                <div class="info">
                    <p>Galaxy Z系列系列 5折券</p>
                    <p>50积分</p>
                </div>
                <div class="badge"><span class="badge1">待发货</span></div>
            </div>
            <div class="item">
                <div class="img"><img src="./imgs/backz@2x.png" srcset="./imgs/backz@2x.png 2x,./imgs/back@3x.png 3x">
                </div>
                <div class="info">
                    <p>Galaxy Z系列系列 5折券</p>
                    <p>50积分</p>
                </div>
                <div class="badge"><span class="badge1">待发货</span></div>
            </div>
        </div>
    </main>


</body>

</html>